# Default development testnet against rinkeby
centrifugeNetwork: russianhill
# Define the default networks that Centrifuge maintains
networks:
  # Local testing contract addresses need to be set with env variables.
  testing:
    id: 333
    ethereumNetworkId: 8383
    bootstrapPeers:
    - "/ip4/127.0.0.1/tcp/38202/ipfs/QmTQxbwkuZYYDfuzTbxEAReTNCLozyy558vQngVvPMjLYk"
    - "/ip4/127.0.0.1/tcp/38203/ipfs/QmVf6EN6mkqWejWKW2qPu16XpdG3kJo1T3mhahPB5Se5n1"
    contractAddresses:
      identityFactory: ""
      anchorRepository: ""
      paymentObligation: ""

  # Main development testnet network (Rinkeby)
  russianhill:
    # Numeric ID of the Centrifuge network
    id: 51
    # Bootstrap list of nodes that Centrifuge provides to the russianhill testnet
    bootstrapPeers:
    - "/ip4/35.225.200.42/tcp/38202/ipfs/12D3KooWLiicQVwThTBY6xKcPoLf6RQYJFpwf1r75wLx2ZR3pCd1"
    - "/ip4/35.225.86.210/tcp/38202/ipfs/12D3KooWQZMA8GPHrvEZB9wdkoUcAAmCZHp9eyyZ4SE8gFr3hTNX"
    # Ethereum network ID - Rinkeby
    ethereumNetworkId: 4
    # Latest deployed Smart Contracts for the given testnet
    contractAddresses: 
      identityFactory: "0xffe0612006eedaeda188cd9df54574a68920a97d"
      anchorRepository: "0xd3be7846016367a08ad083b06df98ad78212d0a5"
      paymentObligation: "0x2d5b6470af1ac962c55b6bee92f3c38c609f371e"

  # Kovan test network
  bernalheights:
    ###
    # Kovan FAQ
    # - With infura you get an error - "This request is not supported because your node is running with state pruning. Run with --pruning=archive.",
    #   what to do? Run a local parity node with kovan eg: with `parity --chain=kovan --port=30304 --warp --warp-barrier 5680000 --no-ancient-blocks --no-serve-light --max-peers 250 --snapshot-peers 50 --min-peers 50 --mode active --tracing off --pruning=archive --db-compaction ssd --cache-size 4096 --jsonrpc-hosts all --jsonrpc-interface all`
    # - With local parity node you get an error - "Blocked connection to WebSockets server from untrusted origin: .."
    #   what to do? Run the parity node with `--unsafe-expose` flag
    ###
    # Numeric ID of the Centrifuge network
    id: 52
    # Bootstrap list of nodes that Centrifuge provides to the bernalheights testnet
    bootstrapPeers:
    - "/ip4/104.154.18.51/tcp/38202/ipfs/12D3KooWPs6iaeUuFZNu1GxvsyBTSrTs9vtB6btMAnHFoLjbkzCa"
    - "/ip4/104.155.185.237/tcp/38202/ipfs/12D3KooWPCGcwiTjoKWHfBa482UPtaeUxNLwd8zbnB1S7weAZUxZ"
    # Ethereum network ID - Kovan
    ethereumNetworkId: 42
    # Latest deployed Smart Contracts for the given testnet
    contractAddresses:
      identityFactory: "0x01adb663afd3a5d7655c89d2774cef51800f3bb6"
      anchorRepository: "0x16f45eac73752eab73072fddbacbd0a58adc3a40"
      paymentObligation: "0xeb1c6a36c4b1234aaae7ece88fb4f48d23d63146"

  # Ropsten test network
  dogpatch:
    # Numeric ID of the Centrifuge network
    id: 53
    # Bootstrap list of nodes that Centrifuge provides to the dogpatch (TODO create ropsten bootnodes)
    bootstrapPeers:
      - "/ip4/35.225.200.42/tcp/38202/ipfs/12D3KooWLiicQVwThTBY6xKcPoLf6RQYJFpwf1r75wLx2ZR3pCd1"
      - "/ip4/35.225.86.210/tcp/38202/ipfs/12D3KooWQZMA8GPHrvEZB9wdkoUcAAmCZHp9eyyZ4SE8gFr3hTNX"
    # Ethereum network ID - Ropsten
    ethereumNetworkId: 3
    # Latest deployed Smart Contracts for the given testnet
    contractAddresses:
      identityFactory: "0x1ba18b61337fa121339339b554730c0e70b9a81c"
      anchorRepository: "0xff5f35f6f3910ed66a24b6e55542e66b868416a3"
      paymentObligation: "0x48c25e7639e888e667f20d30b96653de054251d8"

# Data Storage
storage:
  # Path for levelDB file
  path: /tmp/centrifuge_data.leveldb

# Configuration Storage
configStorage:
  # Path for levelDB file
  path: /tmp/centrifuge_config_data.leveldb

# Accounts key storage
accounts:
  keystore: /tmp/accounts

# Interface where the API and P2P Server listens to
nodeHostname: 0.0.0.0
# Port where API Server listens to
nodePort: 8082

# Peer-to-peer configurations
p2p:
  # Specify External IP where the node can be reached at if behind NAT
  #externalIP: w.x.y.z
  # Port used for the P2P layer
  port: 38202
  # Timeout when opening connections to peers
  connectTimeout: "30s"

# Queue configurations for asynchronous processing
queue:
  # Defines the number of workers/consumers that will be allocated at startup
  numWorkers: 2
  # Frees up CPU cycles when worker is waiting for events
  workerWaitTimeMS: 1
  # Number of retries allowed for a task
  taskRetries: 10

# Ethereum specific configuration
ethereum:
  # Selects which ethereum account to use of the ones provided in the custom config file
  defaultAccountName: "main"
  # Location of the ethereum client node (we require ws or ipc to be able to catch events)
  nodeURL: http://localhost:9545
  # Default gas price
  gasPrice: 1000000000
  # Default gas limit
  gasLimit: 4712388
  # Timeout to wait for an ethereum transaction to be added to a block and events triggered
  contextWaitTimeout: "600s"
  # Timeout to wait for read only operations against ethereum
  contextReadWaitTimeout: "15s"
  # Node transaction pool max retries to send a transaction over
  maxRetries: 200
  # Node transaction pool interval retry when a concurrent transaction has been detected
  intervalRetry: "2s"
  # Disable when some ethereum clients do not support txpool api
  txPoolAccessEnabled: true

# any debugging config will go here
debug:
  # pprof for debugging
  pprof: false

anchoring:
  precommit: true
